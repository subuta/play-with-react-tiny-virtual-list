{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/fetch.js","webpack:///./src/hocs/mapVh.js","webpack:///./src/hocs/withSize.js","webpack:///./src/hocs/withRTVLHandlers.js","webpack:///./src/components/Images.js","webpack:///./src/components/Pokemons/index.js","webpack:///./src/components/Pokemons/Pokemon.js","webpack:///./src/utils/promise.js","webpack:///./src/components/LoadMore.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","cache","LRU","max","maxAge","__webpack_exports__","_ref","_asyncToGenerator","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","url","wrap","_context","prev","next","has","fetch","then","res","json","sent","set","abrupt","stop","this","_x","arguments","compose","withState","withProps","setVh","listen","listener","_","debounce","e","innerHeight","addEventListener","removeEventListener","lifecycle","componentDidMount","_componentDidMount","unlisten","props","componentWillUnmount","recompose__WEBPACK_IMPORTED_MODULE_0__","lodash__WEBPACK_IMPORTED_MODULE_1__","lodash__WEBPACK_IMPORTED_MODULE_1___default","resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_2__","height","width","withHandlers","_ref2","setSize","ref","unobserve","noop","ro","ResizeObserver","entries","contentRect","first","top","right","bottom","left","observe","setSizeRef","options","undefined","_options$isReversed","isReversed","_options$virtualRowsS","virtualRowsSize","_options$estimatedSiz","estimatedSize","withStateHandlers","overScanCount","initialScrollToIndex","rows","withPropsOnChange","nextProps","itemCount","listRef","cachedHeight","refresh","forceUpdate","getActualIndex","_ref3","index","setListRef","recomputeSizes","cacheHeight","getCachedHeight","_ref4","lastArg","startIndex","stopIndex","scrollDirection","compareScroll","arg","currentIndex","visibleCurrentIndex","initialProps","onLoadMore","leading","trailing","onItemsRendered","_compareScroll","IsAtFirstOfRows","IsAtLastOfRows","requestAnimationFrame","isAtFirst","isAtLast","itemSize","_ref5","hasLargeScreen","innerWidth","enhance","hot","mapVh","photos","map","photo","randomSize","random","setPhotos","renderItem","style","react__WEBPACK_IMPORTED_MODULE_1___default","createElement","className","_objectSpread","background","position","padding","author","href","post_url","target","src","concat","id","alt","vh","Fragment","react_tiny_virtual_list__WEBPACK_IMPORTED_MODULE_4__","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","to","scrollToIndex","draftScrollToIndex","setRows","setDraftScrollToIndex","setScrollToIndex","isNaN","Number","response","results","pokemon","match","withRTVLHandlers","isEqual","location","query","lang","qs","parse","search","split","isRowsChanged","isQueryChanged","_Pokemon__WEBPACK_IMPORTED_MODULE_8__","onMeasure","nextLang","onSubmit","preventDefault","marginRight","type","onChange","marginLeft","onClick","overscanCount","getPokemonDetail","Promise","resolve","info","speciesUrl","spec","randomLang","getLocaled","names","frontImage","backImage","flavorTexts","sample","collection","grouped","groupBy","picked","pick","transform","values","flavor_text_entries","withSize","size","_ref2$onMeasure","_ref2$forceUpdate","_this$props","setDetail","promise","detail","cancel","branch","renderComponent","identity","_props$detail","_detail$names","_detail$flavorTexts","flavorTextEntry","flavor_text","version","color","margin","minHeight","wordBreak","whiteSpace","bluebird__WEBPACK_IMPORTED_MODULE_0__","bluebird__WEBPACK_IMPORTED_MODULE_0___default","config","cancellation","MeasurableText","_ref$onMeasure","_ref$forceUpdate","enhanceText","text","react__WEBPACK_IMPORTED_MODULE_0___default","LoadMore","fill","Array","delay","_toConsumableArray","actualIndex","row","faker","seed","lorem","paragraphs","paddingTop","_ref6","react_tiny_virtual_list__WEBPACK_IMPORTED_MODULE_5__","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_0__","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","react_router_dom__WEBPACK_IMPORTED_MODULE_5__","_components_Images__WEBPACK_IMPORTED_MODULE_6__","_components_Pokemons__WEBPACK_IMPORTED_MODULE_7__","_components_LoadMore__WEBPACK_IMPORTED_MODULE_8__","app","exact","from","path","component","Images","Pokemons","ReactDOM","render","document","querySelector"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,KACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAKA,IAFAe,KAAAhB,GAEAO,EAAAC,QACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,OAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,KAKApB,GACAqB,EAAA,GAGAZ,KAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,IACAK,EAAAL,EACAgC,GAAA,EACAF,YAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,GAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,oBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,aAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,sCAEA,IAAAC,EAAAC,OAAA,aAAAA,OAAA,iBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,MAAA,OAEAU,2LCpJA,IAAM0C,EAAQ,WAAIC,IAChBC,IAAK,IACLC,OAAQ,OAGVC,EAAA,iBAAAC,iMAAAC,CAAAC,EAAAC,EAAAC,KAAe,SAAAC,EAAOC,GAAP,IAAApD,EAAA,OAAAgD,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACRf,EAAMgB,IAAIL,GADF,CAAAE,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAEUlB,OAAOoB,MAAMN,GAAKO,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAF5C,OAEL7D,EAFKsD,EAAAQ,KAGXrB,EAAMsB,IAAIX,EAAKpD,GAHJ,cAAAsD,EAAAU,OAAA,SAKNvB,EAAMpB,IAAI+B,IALJ,wBAAAE,EAAAW,SAAAd,EAAAe,SAAf,gBAAAC,GAAA,OAAArB,EAAAhD,MAAAoE,KAAAE,YAAA,wMCCAvB,EAAA,EAAewB,WAAf,CACEC,YAAU,KAAM,QAAS,GACzBC,YAAU,SAAAzB,GAAA,IAAG0B,EAAH1B,EAAG0B,MAAH,OACRC,OAAQ,WACN,IAAMC,EAAWC,IAAEC,SAAS,SAACC,GAAD,OAAOL,EAAMlC,OAAOwC,cAAc,KAO9D,OALAxC,OAAOyC,iBAAiB,SAAUL,GAGlCA,IAEO,kBAAMpC,OAAO0C,oBAAoB,SAAUN,QAGtDO,aACQC,kBADE,eAAAC,iMAAApC,CAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAENU,KAAKkB,SAAWlB,KAAKmB,MAAMZ,SAFrB,wBAAAnB,EAAAW,SAAAd,EAAAe,SAAA,yBAAAiB,EAAArF,MAAAoE,KAAAE,YAAA,GAKRkB,qBALQ,WAMNpB,KAAKkB,UAAYlB,KAAKkB,gDC5B5B,IAAAG,EAAAjF,EAAA,GAAAkF,EAAAlF,EAAA,GAAAmF,EAAAnF,EAAA2B,EAAAuD,GAAAE,EAAApF,EAAA,IAWAuC,EAAA,EAAewB,WAAf,CACEC,YAAU,OAAQ,WAAaqB,OAAQ,EAAGC,MAAO,IACjDC,YAAa,SAAAC,GAAiB,IAAdC,EAAcD,EAAdC,QACVC,EAAM,KACNC,EAAYtB,IAAEuB,KAIZC,EAAK,IAAIC,IAAe,SAACC,GAAY,IAClCC,EAAe3B,IAAE4B,MAAMF,GAAvBC,YACCE,EAA4CF,EAA5CE,IAAKC,EAAuCH,EAAvCG,MAAOC,EAAgCJ,EAAhCI,OAAQC,EAAwBL,EAAxBK,KAAMhB,EAAkBW,EAAlBX,OAAQC,EAAUU,EAAVV,MAW1CG,GAJEJ,OAJmBa,GAFCE,EAASf,GAEYA,EAKzCC,MAJkBe,GAFCF,EAAQb,GAEaA,MAUtCgB,EAAU,WACd,GAAKZ,EAEL,OADAG,EAAGS,QAAQZ,GACJ,WACLG,EAAGF,UAAUD,GACbA,EAAM,OAIV,OACEY,UAEAC,WAAY,kBAAM,SAAC/D,GACjBkD,EAAMlD,EACNmD,EAAYW,MAGdX,UAAW,kBAAM,WACfA,SAINhB,aACEK,qBADQ,WAENpB,KAAKmB,MAAMY,iDC3DjB,IAAAV,EAAAjF,EAAA,GAAAkF,EAAAlF,EAAA,GAAAmF,EAAAnF,EAAA2B,EAAAuD,GAYe3C,EAAA,aAAkB,IAAjBiE,EAAiB1C,UAAAjF,OAAA,QAAA4H,IAAA3C,UAAA,GAAAA,UAAA,MAAA4C,EAK3BF,EAHFG,kBAF6B,IAAAD,KAAAE,EAK3BJ,EAFFK,uBAH6B,IAAAD,EAGX,EAHWA,EAAAE,EAK3BN,EADFO,qBAJ6B,IAAAD,EAIb,IAJaA,EAO/B,OAAO/C,YACLiD,YAAkB,SAAAxE,GAAA,OAChByE,cAAe,EACfC,qBAFgB1E,EAAG2E,KAEQtI,OAASgI,EAAkB,QAExDO,YACE,SAACrC,EAAOsC,GAAR,OAAsBtC,EAAMoC,KAAKtI,SAAWwI,EAAUF,KAAKtI,QAC3D,SAAA2G,GAAA,OACE8B,UADF9B,EAAG2B,KACetI,OAASgI,KAG7BtB,YAAa,WACX,IAAIgC,EAAU,KACVC,KACAC,EAAUpD,IAAEuB,KACZ8B,EAAcrD,IAAEuB,KAEpB,OACE+B,eAAgB,SAAAC,GAAA,IAAGN,EAAHM,EAAGN,UAAH,OAAmB,SAACO,GAClC,OAAOlB,EAAaW,EAAYO,EAAQ,EAAIA,EAAQ,IAGtDC,WAAY,kBAAM,SAACpC,GACL,OAARA,IACJ6B,EAAU7B,EACV+B,EAAU,SAACI,GAAD,OAAWN,EAAQQ,eAAeF,IAC5CH,EAAcrD,IAAEC,SAAS,kBAAMiD,EAAQG,eAAe,IAAO,OAG/DD,QAAS,kBAAM,SAACI,GAAD,OAAWJ,EAAQI,KAClCH,YAAa,kBAAM,SAACG,GAAD,OAAWH,EAAYG,KAE1CG,YAAa,kBAAM,SAACH,EAAOxC,GAAR,OAAmBmC,EAAaK,GAASxC,IAC5D4C,gBAAiB,kBAAM,kBAAMT,OAGjCjC,YAAa,SAAA2C,GAAuB,IAApBjB,EAAoBiB,EAApBjB,cACVkB,GACFC,YAAa,EACbC,WAAY,GAEVC,EAnDoB,wBAqDxB,OACEC,cAAe,kBAAM,SAACC,GAIpB,IAF4B,IAAxBL,EAAQC,aAAmBD,EAAQC,WAAaI,EAAIJ,YAEpDD,EAAQC,aAAeI,EAAIJ,WAAY,OAASE,gBA1DhC,yBA+DpB,IAAMG,EAhEY,yBA6DlBH,EAAkBH,EAAQC,WAAaI,EAAIJ,WA7DzB,sBAEE,yBA8D2CI,EAAIJ,WAAaI,EAAIH,UAE9EK,EAlEY,wBAkEUJ,EAA2CE,EAAIJ,WAAanB,EAAkBuB,EAAIH,UAAYpB,EAK1H,OAFAkB,EAAUK,GAGRF,kBACAG,eACAC,4BAKRnD,YAAa,SAACoD,GAEZ,IAAIC,EAAaD,EAAaC,YAAe,aAG7C,OAFAA,EAAavE,IAAEC,SAASsE,EAAY,KAAOC,SAAS,EAAMC,UAAU,KAGlEC,gBAAiB,SAAChE,GAAD,OAAW,SAACyD,GAAQ,IAEjCrB,EAGEpC,EAHFoC,KACAQ,EAEE5C,EAFF4C,eACAY,EACExD,EADFwD,cAIIH,EAA0BT,EAAbhB,EAA4B6B,EAAIH,UAA4BG,EAAIJ,YAC7EC,EAAyBV,EAAbhB,EAA4B6B,EAAIJ,WAA6BI,EAAIH,WAThDW,EAWOT,GAAgBH,aAAYC,cAA9DC,EAX2BU,EAW3BV,gBAAiBG,EAXUO,EAWVP,aAGzB,GAlGoB,0BAkGhBH,EAAJ,CAEA,IAAMW,EArGY,wBAqGMX,GAA0D,IAAfF,EAC7Dc,EApGc,0BAoGGZ,GAA6CD,GAAalB,EAAKtI,OAAS,GAE3FoK,GAAmBC,IACrBC,sBAAsB,WACpBP,GACEN,kBACAG,eACAW,UAAWH,EACXI,SAAUH,SAMlBI,SAAU,SAAAC,GAAA,IAAGtB,EAAHsB,EAAGtB,gBAAH,OAAyB,SAACJ,GAAD,OAAWI,IAAkBJ,IAAUd,0YCxGlF,IAAMyC,EAAiBxH,OAAOyH,YAAc,IAEtCC,EAAU3F,YACd4F,cAAItJ,GACJuJ,IACA5F,YAAU,SAAU,gBACpBW,aACQC,kBADE,eAAAC,iMAAApC,CAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAgH,EAAA,OAAAnH,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAEaE,YAAM,8BAFnB,OAEFyG,EAFE7G,EAAAQ,KAINqG,EAASxF,IAAEyF,IAAID,EAAQ,SAACE,GAMtB,OAJEA,EAAMC,WADJR,EACkC,IAAjBnF,IAAE4F,OAAO,EAAG,GAEK,IAAjB5F,IAAE4F,OAAO,EAAG,GAE1BF,IAGTnG,KAAKmB,MAAMmF,UAAUL,GAbf,wBAAA7G,EAAAW,SAAAd,EAAAe,SAAA,yBAAAiB,EAAArF,MAAAoE,KAAAE,YAAA,KAgBVsD,YACE,SAACrC,EAAOsC,GAAR,OAAsBtC,EAAM8E,OAAOhL,SAAWwI,EAAUwC,OAAOhL,QAC/D,SAAA2D,GAAgB,IAAbqH,EAAarH,EAAbqH,OACD,OACEM,WAAY,SAAA3E,GAAsB,IAAnB4E,EAAmB5E,EAAnB4E,MAAOvC,EAAYrC,EAAZqC,MACdkC,EAAQF,EAAOhC,GACrB,OACEwC,EAAA1H,EAAA2H,cAAA,OAAKC,UAAU,MAAMH,wUAAKI,IAAOJ,GAAS3I,IAAKoG,GAC7CwC,EAAA1H,EAAA2H,cAAA,QAAMF,OAASK,WAAY,QAASC,SAAU,WAAYxE,IAAK,EAAGG,KAAM,EAAGsE,QAAS,UAApF,QACQ9C,EADR,OACmBkC,EAAMa,OACvBP,EAAA1H,EAAA2H,cAAA,2BAAmBP,EAAMC,aAE3BK,EAAA1H,EAAA2H,cAAA,KAAGO,KAAMd,EAAMe,SAAUC,OAAO,UAC9BV,EAAA1H,EAAA2H,cAAA,OAAKU,IAAG,yBAAAC,OAA2BlB,EAAMC,WAAjC,WAAAiB,OAAqDlB,EAAMmB,IAAMC,IAAI,YAiC9EzB,MAvBA,SAAA9B,GAAgC,IAA7BiC,EAA6BjC,EAA7BiC,OAAQM,EAAqBvC,EAArBuC,WAAYiB,EAASxD,EAATwD,GACpC,OACEf,EAAA1H,EAAA2H,cAAAD,EAAA1H,EAAA0I,SAAA,KACEhB,EAAA1H,EAAA2H,cAACgB,EAAA,GACChG,MAAM,QACND,OAAQ+F,EACR9D,UAAWuC,EAAOhL,OAClBsL,WAAYA,EACZb,SAAU,SAACzB,GAAD,OAAWgC,EAAOhC,GAAOmC,cAGrCK,EAAA1H,EAAA2H,cAAA,cACED,EAAA1H,EAAA2H,cAAA,YACED,EAAA1H,EAAA2H,cAACiB,EAAA,GAAKC,GAAG,aAAT,aADF,MAEEnB,EAAA1H,EAAA2H,cAACiB,EAAA,GAAKC,GAAG,cAAT,eAGFnB,EAAA1H,EAAA2H,cAAA,QAAMC,UAAU,aAAhB,QAAiCF,EAAA1H,EAAA2H,cAAA,KAAGO,KAAK,yBAAyBE,OAAO,UAAxC,gBAAjC,idC1DR,IAEMrB,EAAU3F,YACd4F,cAAItJ,GACJuJ,IACA5C,YACE,kBACEG,QACAsE,cAAe,KACfC,mBAAoB,MAGpBC,QAAS,kBAAM,SAACxE,GAAD,OAAaA,UAC5ByE,sBAAuB,kBAAM,SAACrH,GAAD,OAAUmH,mBAAoBnH,EAAEwG,OAAO5J,SACpE0K,iBAAkB,kBAAM,SAAC1K,GACvB,MAAc,KAAVA,GAAuBsK,cAAe,OAExCA,cAAepH,IAAEyH,MAAMC,OAAO5K,IAAU,KAAO4K,OAAO5K,QAK9DwD,aACQC,kBADE,eAAAC,iMAAApC,CAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAmJ,EAAA7E,EAAA,OAAAzE,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAEeE,YAAM,sCAFrB,OAEF4I,EAFEhJ,EAAAQ,KAIA2D,EAAO9C,IAAEyF,IAAIkC,EAASC,QAAS,SAAAC,GAEnC,OADAA,EAAQhB,GAAKgB,EAAQpJ,IAAIqJ,MA3BP,+CA2BgC,GAC3CD,IAGTtI,KAAKmB,MAAM4G,QAAQxE,GATb,wBAAAnE,EAAAW,SAAAd,EAAAe,SAAA,yBAAAiB,EAAArF,MAAAoE,KAAAE,YAAA,KAYVsI,aACErF,cAAe,MAEjBK,YACE,SAACrC,EAAOsC,GAAR,OAAuBhD,IAAEgI,QAAQtH,EAAMuH,SAAUjF,EAAUiF,WAC3D,SAAA9J,GAAkB,IAAf8J,EAAe9J,EAAf8J,SAED,OACEC,OACEC,KAHUC,IAAGC,MAAMJ,EAASK,OAAOC,MAAM,KAAK,IAGlCJ,MAAQ,SAK5BpF,YACE,SAACrC,EAAOsC,GACN,IAAMwF,EAAgB9H,EAAMoC,KAAKtI,SAAWwI,EAAUF,KAAKtI,OACrDiO,GAAkBzI,IAAEgI,QAAQtH,EAAMwH,MAAOlF,EAAUkF,OACzD,OAAOM,GAAiBC,GAE1B,SAAAtH,GAAwD,IAArD2B,EAAqD3B,EAArD2B,KAAMoF,EAA+C/G,EAA/C+G,MAAOvE,EAAwCxC,EAAxCwC,YAAaP,EAA2BjC,EAA3BiC,QAASC,EAAkBlC,EAAlBkC,YACpC,OACEyC,WAAY,SAAAvC,GAAsB,IAAnBwC,EAAmBxC,EAAnBwC,MAAOvC,EAAYD,EAAZC,MACdqE,EAAU/E,EAAKU,GACrB,OACEwC,EAAA1H,EAAA2H,cAAA,OAAKC,UAAU,MAAMH,wUAAKI,IAAOJ,GAAS3I,IAAKoG,GAC7CwC,EAAA1H,EAAA2H,cAACyC,EAAA,GACCb,QAASA,EACTM,KAAMD,EAAMC,KACZQ,UAAW,SAAA9E,GAAgB,IAAb7C,EAAa6C,EAAb7C,OACZ2C,EAAYH,EAAOxC,GACnBoC,EAAQI,IAEVH,YAAa,kBAAMA,aA8FpBgC,MAlFE,SAAC3E,GAAU,IAExBwH,EAUExH,EAVFwH,MACAnB,EASErG,EATFqG,GACAjE,EAQEpC,EARFoC,KACAuE,EAOE3G,EAPF2G,mBACAE,EAME7G,EANF6G,sBACAC,EAKE9G,EALF8G,iBACAJ,EAIE1G,EAJF0G,cACAtB,EAGEpF,EAHFoF,WACArC,EAEE/C,EAFF+C,WACAwB,EACEvE,EADFuE,SAIE2D,EAAW,KACI,OAAfV,EAAMC,KACRS,EAAW,KACa,OAAfV,EAAMC,KACfS,EAAW,SACa,WAAfV,EAAMC,OACfS,EAAW,MAGb,IAAM3F,EAAYH,EAAKtI,OAEvB,OACEwL,EAAA1H,EAAA2H,cAAAD,EAAA1H,EAAA0I,SAAA,KACEhB,EAAA1H,EAAA2H,cAAA,OAAKC,UAAU,iBACbF,EAAA1H,EAAA2H,cAAA,QACE4C,SAAU,SAAC3I,GACTA,EAAE4I,iBACFtB,EAAiBH,KAGnBrB,EAAA1H,EAAA2H,cAAA,aACED,EAAA1H,EAAA2H,cAAA,QAAMF,OAASgD,YAAa,IAA5B,MAEA/C,EAAA1H,EAAA2H,cAAA,SACE+C,KAAK,SACLC,SAAU1B,EACVzK,MAAOuK,EACPtB,OAAQ9E,MAAO,OAInB+E,EAAA1H,EAAA2H,cAAA,UACEF,OAASmD,WAAY,GACrBC,QAAS,kBAAM3B,EAAiBH,KAFlC,QASJrB,EAAA1H,EAAA2H,cAACgB,EAAA,GAECkB,KAAMD,EAAMC,KAGZlH,MAAM,QACND,OAAQ+F,EACR9D,UAAWA,EACX6C,WAAYA,EACZb,SAAUA,EACVmE,cAAe,EACfhC,cAAgC,MAAjBA,EAAwB,KAAOA,EAAgB,EAC9D/F,IAAKoC,IAGPuC,EAAA1H,EAAA2H,cAAA,cACED,EAAA1H,EAAA2H,cAAA,YACED,EAAA1H,EAAA2H,cAACiB,EAAA,GAAKC,GAAG,cAAT,cADF,MAEEnB,EAAA1H,EAAA2H,cAACiB,EAAA,GAAKC,GAAG,WAAT,WAFF,MAGEnB,EAAA1H,EAAA2H,cAACiB,EAAA,GAAKC,GAAE,kBAAAP,OAAoBgC,GAAY7C,OAASgD,YAAa,KAA9D,kBAAoFH,IAEtF5C,EAAA1H,EAAA2H,cAAA,QAAMC,UAAU,aAAhB,QAAiCF,EAAA1H,EAAA2H,cAAA,KAAGO,KAAK,sBAAsBE,OAAO,UAArC,WAAjC,kTChKR,IAAM2C,EAAmB,SAACxC,GAAD,OAAQ,IAAIyC,IAAJ,eAAAnL,iMAAAC,CAAAC,EAAAC,EAAAC,KAAY,SAAAC,EAAO+K,GAAP,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA3L,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACxBE,YAAK,qCAAA6H,OAAsCC,EAAtC,MADmB,cACrC2C,EADqC7K,EAAAQ,KAGrCsK,EAAazJ,IAAEtD,IAAI8M,EAAM,cAAZ,6CAAA5C,OAAwEC,EAAxE,MAHwBlI,EAAAE,KAAA,EAKxBE,YAAM0K,GALkB,OAKrCC,EALqC/K,EAAAQ,KAOrCwK,EAAa3J,IAAEtD,IAAIsD,IAAEiK,OAAOP,EAAKG,OAAQ,iBAWzCA,GATAD,EAAa,SAACM,GAClB,IAAMC,EAAUnK,IAAEoK,QAAQF,EAAY,iBAChCG,EAASrK,IAAEsK,KAAKH,GAAU,KAAM,KAAMR,IAC5C,OAAO3J,IAAEuK,UAAUF,EAAQ,SAAChP,EAAQmP,EAAQpN,GAC1C/B,EAAO+B,GAAO4C,IAAE4B,MAAM4I,UAKDd,EAAKG,OACxBC,EAAa9J,IAAEtD,IAAI8M,EAAM,wBAAyB,MAClDO,EAAY/J,IAAEtD,IAAI8M,EAAM,uBAAwB,MAChDQ,EAAcJ,EAAWF,EAAKe,qBAEpClB,GACE1C,KACAiD,aACAC,YACAF,QACAG,cACAL,eA7ByC,yBAAAhL,EAAAW,SAAAd,EAAAe,SAAZ,gBAAAC,GAAA,OAAArB,EAAAhD,MAAAoE,KAAAE,YAAA,KAiC3B4F,EAAU3F,YACd4F,cAAItJ,GACJ0O,IACA3H,YACE,SAACrC,EAAOsC,GAAR,OAAuBhD,IAAEgI,QAAQtH,EAAMiK,KAAM3H,EAAU2H,OACvD,SAAAxJ,GAAwD,IAArDwJ,EAAqDxJ,EAArDwJ,KAAqDC,EAAAzJ,EAA/CwH,iBAA+C,IAAAiC,EAAnC5K,IAAEuB,KAAiCqJ,EAAAC,EAAA1J,EAA3BkC,mBAA2B,IAAAwH,EAAb7K,IAAEuB,KAAWsJ,EAClC,IAAhBF,EAAK3J,SACT2H,EAAUgC,GACVtH,OAGJ1D,YAAU,SAAU,YAAa,MACjCW,aACEC,kBADQ,WACa,IAAAuK,EACqBvL,KAAKmB,MAArCmH,EADWiD,EACXjD,QAASkD,EADED,EACFC,UADED,EACS7I,QAE5B1C,KAAKyL,QAAU3B,EAAiBxB,EAAQhB,IAAI7H,KAAK,SAAAiM,GAAM,OAAIF,EAAUE,MAGvEtK,qBAPQ,WAQFpB,KAAKyL,SACPzL,KAAKyL,QAAQE,YAInBC,YACE,SAAA5H,GAAA,OAAAA,EAAG0H,QACHG,YAAgB,kBAAM,OACtBpL,IAAEqL,WAqDShG,MAjDC,SAAC3E,GAAU,IAAA4K,EAKrB5K,EAHFuK,cAFuB,IAAAK,OAGvBzD,EAEEnH,EAFFmH,QACA3F,EACExB,EADFwB,WAIA2E,EAKEoE,EALFpE,GARuB0E,EAarBN,EAJFpB,aATuB,IAAA0B,OAAAC,EAarBP,EAHFjB,mBAVuB,IAAAwB,OAWvB1B,EAEEmB,EAFFnB,WACAC,EACEkB,EADFlB,UAGI5B,EAAsB,WAAfzH,EAAMyH,KAAoB8C,EAAOtB,WAAajJ,EAAMyH,KAEzD9L,GADUwN,EAAM1B,GAAQ0B,EAAM1B,GAAQ0B,EAAK,IAC3CxN,KAEFoP,EAAkBzB,EAAY7B,GAAQ6B,EAAY7B,GAAQ6B,EAAW,GACnE0B,EAAyBD,EAAzBC,YAAaC,EAAYF,EAAZE,QAErB,OACE3F,EAAA1H,EAAA2H,cAAA,OAAK5E,IAAKa,EAAY6D,OAAQ6F,MAAO,UACnC5F,EAAA1H,EAAA2H,cAAA,KAAGF,OAAQ8F,OAAQ,IACjB7F,EAAA1H,EAAA2H,cAAA,QAAMF,OAASK,WAAY,QAASE,QAAS,QAASsF,MAAO,UAA7D,MACM/E,EADN,SACgBxK,EADhB,SAC4B8L,IAI9BnC,EAAA1H,EAAA2H,cAAA,KAAGO,KAAMqB,EAAQpJ,IAAKiI,OAAO,UAE3BV,EAAA1H,EAAA2H,cAAA,OAAKU,IAAKmD,EAAY/D,OAAQ+F,UAAW,IAAKhF,IAAI,KAClDd,EAAA1H,EAAA2H,cAAA,OAAKU,IAAKoD,EAAWhE,OAAQ+F,UAAW,IAAKhF,IAAI,MAGnDd,EAAA1H,EAAA2H,cAAA,OAAKF,OACH8F,OAAQ,YACRvF,QAAS,WACTyF,UAAW,aACXC,WAAY,aAEXN,EACD1F,EAAA1H,EAAA2H,cAAA,aAAK0F,EAAQtP,KAAb,gEC/HR,IAAA4P,EAAAtQ,EAAA,IAAAuQ,EAAAvQ,EAAA2B,EAAA2O,GAGA3C,IAAQ6C,QAMNC,cAAc,IAKD9C,MAAf,46BCOA,IAYM+C,EAZc3M,YAClBgL,IACA3H,YACE,SAACrC,EAAOsC,GAAR,OAAuBhD,IAAEgI,QAAQtH,EAAMiK,KAAM3H,EAAU2H,OACvD,SAAAxM,GAAwD,IAArDwM,EAAqDxM,EAArDwM,KAAqD2B,EAAAnO,EAA/CwK,iBAA+C,IAAA2D,EAAnCtM,IAAEuB,KAAiC+K,EAAAC,EAAApO,EAA3BkF,mBAA2B,IAAAkJ,EAAbvM,IAAEuB,KAAWgL,EAClC,IAAhB5B,EAAK3J,SACT2H,EAAUgC,GACVtH,OAKiBmJ,CAAY,SAAArL,GAAiC,IAA9BsL,EAA8BtL,EAA9BsL,KAAMvK,EAAwBf,EAAxBe,WAAY6D,EAAY5E,EAAZ4E,MACtD,OACE2G,EAAApO,EAAA2H,cAAA,KACE5E,IAAKa,EACL6D,MAAKI,KAAOJ,GAAO8F,OAAQ,KAE1BY,KAgEDE,EA3DUjN,YACd4F,cAAItJ,GACJuJ,IACA5F,YAAU,OAAQ,UAAWK,IAAE4M,KAAK,IAAIC,MAAM,KAAM,IACpD3L,aACEqD,WAAY,SAAAhB,GAAA,IAAGT,EAAHS,EAAGT,KAAMwE,EAAT/D,EAAS+D,QAAT,OAAuB,SAAAzD,GAAmBA,EAAhBkB,WAGpC/E,IAAE8M,MAAM,WACNxF,EAAOyF,EAAKjK,GAAL8D,OAAAmG,EAAc/M,IAAE4M,KAAK,IAAIC,MAAM,KAAM,OAC3C,SAGP9E,aACEzF,YAAY,EACZE,gBAAiB,GACjBE,cAAe,MAEjBK,YACE,SAACrC,EAAOsC,GACN,OAAOtC,EAAMuC,YAAcD,EAAUC,WAEvC,SAAAiC,GAAA,IAAGpC,EAAHoC,EAAGpC,KAAMQ,EAAT4B,EAAS5B,eAAgBK,EAAzBuB,EAAyBvB,YAAaP,EAAtC8B,EAAsC9B,QAASC,EAA/C6B,EAA+C7B,YAA/C,OACEyC,WADgE,SACpD3B,GAAK,IACPX,EAAiBW,EAAjBX,MAAOuC,EAAU5B,EAAV4B,MAETiH,EAAc1J,EAAeE,GAC7ByJ,EAAMnK,EAAKkK,GAGjBE,IAAMC,KAAK3J,GACX,IAAMiJ,EAAOS,IAAME,MAAMC,aAEzB,OACEX,EAAApO,EAAA2H,cAAA,OAAKC,UAAS,OAAAU,OAASpD,GAASuC,MAAKI,KAAOJ,GAAS3I,IAAKoG,GACxDkJ,EAAApO,EAAA2H,cAAA,QAAMF,OACJK,WAAY,QACZwF,MAAO,QACPvF,SAAU,WACVxE,IAAK,EACLG,KAAM,EACNhB,OAAQ,KACNiM,EAAG,OAAArG,OAAUoG,GAAgB,cACjCN,EAAApO,EAAA2H,cAACoG,GACCI,KAAMQ,EAAMR,EAAO,GACnB1G,OAASuH,WAAY,IACrB3E,UAAW,SAAA4E,GAAgB,IAAbvM,EAAauM,EAAbvM,OACZ2C,EAAYH,EAAOxC,GACnBoC,EAAQI,IAEVH,YAAa,kBAAMA,YAShBgC,CAAQ,SAAC3E,GAAU,IAEhCqG,EAQErG,EARFqG,GACAtD,EAOE/C,EAPF+C,WACAb,EAMElC,EANFkC,cACAK,EAKEvC,EALFuC,UACAJ,EAIEnC,EAJFmC,qBACA6B,EAGEhE,EAHFgE,gBACAoB,EAEEpF,EAFFoF,WACAb,EACEvE,EADFuE,SAGF,OACEyH,EAAApO,EAAA2H,cAAA,OAAKF,OAAS6F,MAAO,UACnBc,EAAApO,EAAA2H,cAACuH,EAAA,GACCnM,IAAKoC,EACLxC,MAAM,OACND,OAAQ+F,GAAMpJ,OAAOwC,YACrB8C,UAAWA,EACXmG,cAAexG,EACfkD,WAAYA,EACZb,SAAUA,EACVmC,cAAevE,EACf6B,gBAAiBA,IAGnBgI,EAAApO,EAAA2H,cAAA,cACEyG,EAAApO,EAAA2H,cAAA,YACEyG,EAAApO,EAAA2H,cAACwH,EAAA,GAAKtG,GAAG,WAAT,WADF,MAEEuF,EAAApO,EAAA2H,cAACwH,EAAA,GAAKtG,GAAG,aAAT,cAGFuF,EAAApO,EAAA2H,cAAA,QAAMC,UAAU,aAAhB,oDAMOyG,iGC7IfhR,EAAAgB,EAAAuB,GAAA,IAAAwP,EAAA/R,EAAA,GAAA+Q,EAAA/Q,EAAA2B,EAAAoQ,GAAAC,EAAAhS,EAAA,IAAAiS,EAAAjS,EAAA2B,EAAAqQ,GAAAF,EAAA9R,EAAA,MAAAuL,EAAAvL,EAAA,MAAAkS,EAAAlS,EAAA,MAAAmS,EAAAnS,EAAA,IAAAoS,EAAApS,EAAA,IAAAqS,EAAArS,EAAA,IAAAsS,EAAAtS,EAAA,IAQMuS,EACJxB,EAAApO,EAAA2H,cAAA,WAGEyG,EAAApO,EAAA2H,cAAA,SAAO+C,KAAK,YAAZ,guCAwDA0D,EAAApO,EAAA2H,cAACwH,EAAA,EAAD,KACEf,EAAApO,EAAA2H,cAACiB,EAAA,EAAD,KACEwF,EAAApO,EAAA2H,cAAC4H,EAAA,GAASM,OAAK,EAACC,KAAK,IAAIjH,GAAG,YAC5BuF,EAAApO,EAAA2H,cAAC6H,EAAA,GAAMK,OAAK,EAACE,KAAK,UAAUC,UAAWC,MACvC7B,EAAApO,EAAA2H,cAAC6H,EAAA,GAAMK,OAAK,EAACE,KAAK,YAAYC,UAAWE,MACzC9B,EAAApO,EAAA2H,cAAC6H,EAAA,GAAMK,OAAK,EAACE,KAAK,aAAaC,UAAW3B,SAMlD8B,IAASC,OAAOR,EAAKS,SAASC,cAAc","file":"main.ec51e764.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/play-with-react-tiny-virtual-list/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([42,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import LRU from 'lru-cache'\n\nconst cache = new LRU({\n  max: 500,\n  maxAge: 1000 * 60 * 60 // 1h\n})\n\nexport default async (url) => {\n  if (!cache.has(url)) {\n    const result = await window.fetch(url).then(res => res.json())\n    cache.set(url, result)\n  }\n  return cache.get(url)\n}\n","import {\n  compose,\n  lifecycle,\n  withState,\n  withProps,\n} from 'recompose'\nimport _ from 'lodash'\n\nexport default compose(\n  withState('vh', 'setVh', 0),\n  withProps(({ setVh }) => ({\n    listen: () => {\n      const listener = _.debounce((e) => setVh(window.innerHeight), 300)\n\n      window.addEventListener('resize', listener)\n\n      // Load once.\n      listener()\n\n      return () => window.removeEventListener('resize', listener)\n    }\n  })),\n  lifecycle({\n    async componentDidMount () {\n      this.unlisten = this.props.listen()\n    },\n\n    componentWillUnmount () {\n      this.unlisten && this.unlisten()\n    }\n  }),\n)","import {\n  compose,\n  lifecycle,\n  withHandlers,\n  withPropsOnChange,\n  withState,\n} from 'recompose'\nimport _ from 'lodash'\n\nimport ResizeObserver from 'resize-observer-polyfill'\n\nexport default compose(\n  withState('size', 'setSize', { height: 0, width: 0 }),\n  withHandlers(({ setSize }) => {\n    let ref = null\n    let unobserve = _.noop\n\n    let sizeCache = { height: 0, width: 0 }\n\n    const ro = new ResizeObserver((entries) => {\n      const {contentRect} = _.first(entries)\n      const { top, right, bottom, left, height, width } = contentRect\n      const paddingBottom = bottom - height\n      const paddingRight = right - width\n      const clientHeight = top + paddingBottom + height\n      const clientWidth = left + paddingRight + width\n\n      sizeCache = {\n        height: clientHeight,\n        width: clientWidth\n      }\n\n      setSize(sizeCache)\n    })\n\n    const observe = () => {\n      if (!ref) return\n      ro.observe(ref)\n      return () => {\n        ro.unobserve(ref)\n        ref = null\n      }\n    }\n\n    return {\n      observe,\n\n      setSizeRef: () => (_ref) => {\n        ref = _ref\n        unobserve = observe()\n      },\n\n      unobserve: () => () => {\n        unobserve()\n      }\n    }\n  }),\n  lifecycle({\n    componentWillUnmount () {\n      this.props.unobserve()\n    }\n  })\n)","import {\n  compose,\n  withHandlers,\n  withPropsOnChange,\n  withStateHandlers\n} from 'recompose'\nimport _ from 'lodash'\n\nconst SCROLL_DIRECTION_UP = 'SCROLL_DIRECTION_UP'\nconst SCROLL_DIRECTION_NONE = 'SCROLL_DIRECTION_NONE'\nconst SCROLL_DIRECTION_DOWN = 'SCROLL_DIRECTION_DOWN'\n\nexport default (options = {}) => {\n  const {\n    isReversed = false,\n    virtualRowsSize = 0,\n    estimatedSize = 100\n  } = options\n\n  return compose(\n    withStateHandlers(({ rows }) => ({\n      overScanCount: 3,\n      initialScrollToIndex: rows.length + virtualRowsSize - 1\n    }), {}),\n    withPropsOnChange(\n      (props, nextProps) => props.rows.length !== nextProps.rows.length,\n      ({ rows }) => ({\n        itemCount: rows.length + virtualRowsSize\n      })\n    ),\n    withHandlers(() => {\n      let listRef = null\n      let cachedHeight = []\n      let refresh = _.noop\n      let forceUpdate = _.noop\n\n      return {\n        getActualIndex: ({ itemCount }) => (index) => {\n          return isReversed ? itemCount - index - 1 : index + 1\n        },\n\n        setListRef: () => (ref) => {\n          if (ref === null) return\n          listRef = ref\n          refresh = (index) => listRef.recomputeSizes(index)\n          forceUpdate = _.debounce(() => listRef.forceUpdate(), 1000 / 60)\n        },\n\n        refresh: () => (index) => refresh(index),\n        forceUpdate: () => (index) => forceUpdate(index),\n\n        cacheHeight: () => (index, height) => cachedHeight[index] = height,\n        getCachedHeight: () => () => cachedHeight\n      }\n    }),\n    withHandlers(({ overScanCount }) => {\n      let lastArg = {\n        startIndex: -1,\n        stopIndex: -1\n      }\n      let scrollDirection = SCROLL_DIRECTION_NONE\n\n      return {\n        compareScroll: () => (arg) => {\n          // Assign lastStartIndex at first render.\n          if (lastArg.startIndex === -1) lastArg.startIndex = arg.startIndex\n          // Ignore no-change.\n          if (lastArg.startIndex === arg.startIndex) return { scrollDirection: SCROLL_DIRECTION_NONE }\n\n          scrollDirection = lastArg.startIndex > arg.startIndex ? SCROLL_DIRECTION_UP : SCROLL_DIRECTION_DOWN\n\n          // Get in-visible (includes overScan) row index.\n          const currentIndex = scrollDirection === SCROLL_DIRECTION_UP ? arg.startIndex : arg.stopIndex\n          // Get visible row index.\n          const visibleCurrentIndex = scrollDirection === SCROLL_DIRECTION_UP ? (arg.startIndex + overScanCount) : (arg.stopIndex - overScanCount)\n\n          // Keep lastArg.\n          lastArg = arg\n\n          return {\n            scrollDirection,\n            currentIndex,\n            visibleCurrentIndex\n          }\n        }\n      }\n    }),\n    withHandlers((initialProps) => {\n      // Ignore fast scroll.\n      let onLoadMore = initialProps.onLoadMore || (() => {})\n      onLoadMore = _.debounce(onLoadMore, 100, { leading: true, trailing: false })\n\n      return {\n        onItemsRendered: (props) => (arg) => {\n          const {\n            rows,\n            getActualIndex,\n            compareScroll\n          } = props\n\n          // Swap args for reversed list.\n          const startIndex = isReversed ? getActualIndex(arg.stopIndex) : getActualIndex(arg.startIndex)\n          const stopIndex = isReversed ? getActualIndex(arg.startIndex) : getActualIndex(arg.stopIndex)\n\n          const { scrollDirection, currentIndex } = compareScroll({ startIndex, stopIndex })\n\n          // Ignore no-change.\n          if (scrollDirection === SCROLL_DIRECTION_NONE) return\n\n          const IsAtFirstOfRows = scrollDirection === SCROLL_DIRECTION_UP && startIndex === 0\n          const IsAtLastOfRows = scrollDirection === SCROLL_DIRECTION_DOWN && stopIndex >= rows.length - 1\n\n          if (IsAtFirstOfRows || IsAtLastOfRows) {\n            requestAnimationFrame(() => {\n              onLoadMore({\n                scrollDirection,\n                currentIndex,\n                isAtFirst: IsAtFirstOfRows,\n                isAtLast: IsAtLastOfRows\n              })\n            })\n          }\n        },\n\n        itemSize: ({ getCachedHeight }) => (index) => getCachedHeight()[index] || estimatedSize\n      }\n    })\n  )\n}","// App.js\nimport React from 'react'\nimport { hot } from 'react-hot-loader'\n\nimport { Link } from 'react-router-dom'\nimport VirtualList from 'react-tiny-virtual-list'\n\nimport fetch from '../utils/fetch'\n\nimport _ from 'lodash'\n\nimport {\n  compose,\n  lifecycle,\n  withState,\n  withPropsOnChange\n} from 'recompose'\n\nimport mapVh from '../hocs/mapVh'\n\nconst hasLargeScreen = window.innerWidth >= 576\n\nconst enhance = compose(\n  hot(module),\n  mapVh,\n  withState('photos', 'setPhotos', []),\n  lifecycle({\n    async componentDidMount () {\n      let photos = await fetch('https://picsum.photos/list')\n\n      photos = _.map(photos, (photo) => {\n        if (hasLargeScreen) {\n          photo.randomSize = _.random(3, 8) * 100\n        } else {\n          photo.randomSize = _.random(1, 4) * 100\n        }\n        return photo\n      })\n\n      this.props.setPhotos(photos)\n    }\n  }),\n  withPropsOnChange(\n    (props, nextProps) => props.photos.length !== nextProps.photos.length,\n    ({ photos }) => {\n      return {\n        renderItem: ({ style, index }) => {\n          const photo = photos[index]\n          return (\n            <div className=\"Row\" style={{ ...style }} key={index}>\n              <span style={{ background: 'white', position: 'absolute', top: 0, left: 0, padding: '0 8px' }}>\n                Row #{index} By {photo.author}\n                <small>randomSize={photo.randomSize}</small>\n              </span>\n              <a href={photo.post_url} target=\"_blank\">\n                <img src={`https://picsum.photos/${photo.randomSize}?image=${photo.id}`} alt=\"\" />\n              </a>\n            </div>\n          )\n        }\n      }\n    }\n  )\n)\n\nconst Images = ({ photos, renderItem, vh }) => {\n  return (\n    <>\n      <VirtualList\n        width='100vw'\n        height={vh}\n        itemCount={photos.length}\n        renderItem={renderItem}\n        itemSize={(index) => photos[index].randomSize}\n      />\n\n      <footer>\n        <span>\n          <Link to=\"/pokemons\">/pokemons</Link> |&nbsp;\n          <Link to=\"/load-more\">/load-more</Link>\n        </span>\n\n        <span className=\"c-comment\">SEE: <a href=\"https://picsum.photos/\" target='_blank'>Lorem Picsum</a> for more images.</span>\n      </footer>\n    </>\n  )\n}\n\nexport default enhance(Images)","// App.js\nimport React from 'react'\nimport { hot } from 'react-hot-loader'\n\nimport { Link } from 'react-router-dom'\nimport VirtualList from 'react-tiny-virtual-list'\nimport qs from 'qs'\n\nimport fetch from '../../utils/fetch'\n\nimport _ from 'lodash'\n\nimport Pokemon from './Pokemon'\n\nimport {\n  compose,\n  lifecycle,\n  withPropsOnChange,\n  withStateHandlers\n} from 'recompose'\n\nimport mapVh from '../../hocs/mapVh'\nimport withRTVLHandlers from '../../hocs/withRTVLHandlers'\n\nconst POKE_URL_ID_REGEX = 'https://pokeapi.co/api/v2/pokemon/([0-9]+)/'\n\nconst enhance = compose(\n  hot(module),\n  mapVh,\n  withStateHandlers(\n    () => ({\n      rows: [],\n      scrollToIndex: null,\n      draftScrollToIndex: ''\n    }),\n    {\n      setRows: () => (rows) => ({ rows }),\n      setDraftScrollToIndex: () => (e) => ({ draftScrollToIndex: e.target.value }),\n      setScrollToIndex: () => (value) => {\n        if (value === '') return { scrollToIndex: null }\n        return {\n          scrollToIndex: _.isNaN(Number(value)) ? null : Number(value) // For array.\n        }\n      }\n    }\n  ),\n  lifecycle({\n    async componentDidMount () {\n      let response = await fetch('https://pokeapi.co/api/v2/pokemon/')\n\n      const rows = _.map(response.results, pokemon => {\n        pokemon.id = pokemon.url.match(POKE_URL_ID_REGEX)[1]\n        return pokemon\n      })\n\n      this.props.setRows(rows)\n    }\n  }),\n  withRTVLHandlers({\n    estimatedSize: 200\n  }),\n  withPropsOnChange(\n    (props, nextProps) => !_.isEqual(props.location, nextProps.location),\n    ({ location }) => {\n      const query = qs.parse(location.search.split('?')[1])\n      return {\n        query: {\n          lang: query.lang || 'en'\n        }\n      }\n    }\n  ),\n  withPropsOnChange(\n    (props, nextProps) => {\n      const isRowsChanged = props.rows.length !== nextProps.rows.length\n      const isQueryChanged = !_.isEqual(props.query, nextProps.query)\n      return isRowsChanged || isQueryChanged\n    },\n    ({ rows, query, cacheHeight, refresh, forceUpdate }) => {\n      return {\n        renderItem: ({ style, index }) => {\n          const pokemon = rows[index]\n          return (\n            <div className=\"row\" style={{ ...style }} key={index}>\n              <Pokemon\n                pokemon={pokemon}\n                lang={query.lang}\n                onMeasure={({ height }) => {\n                  cacheHeight(index, height)\n                  refresh(index)\n                }}\n                forceUpdate={() => forceUpdate()}\n              />\n            </div>\n          )\n        }\n      }\n    }\n  )\n)\n\n// Looks like PokeAPI does not provides `Pokemon Sun & Moon` data currently(2018/10/14) ;)\n// SEE: https://github.com/PokeAPI/pokeapi/issues/112\nconst Pokemons = (props) => {\n  const {\n    query,\n    vh,\n    rows,\n    draftScrollToIndex,\n    setDraftScrollToIndex,\n    setScrollToIndex,\n    scrollToIndex,\n    renderItem,\n    setListRef,\n    itemSize\n  } = props\n\n  // Toggle lang.\n  let nextLang = 'en'\n  if (query.lang === 'en') {\n    nextLang = 'ja'\n  } else if (query.lang === 'ja') {\n    nextLang = 'random'\n  } else if (query.lang === 'random') {\n    nextLang = 'en'\n  }\n\n  const itemCount = rows.length\n\n  return (\n    <>\n      <div className=\"c-search-form\">\n        <form\n          onSubmit={(e) => {\n            e.preventDefault()\n            setScrollToIndex(draftScrollToIndex)\n          }}\n        >\n          <label>\n            <span style={{ marginRight: 4 }}>No</span>\n\n            <input\n              type=\"number\"\n              onChange={setDraftScrollToIndex}\n              value={draftScrollToIndex}\n              style={{width: 40}}\n            />\n          </label>\n\n          <button\n            style={{ marginLeft: 8 }}\n            onClick={() => setScrollToIndex(draftScrollToIndex)}\n          >\n            Go\n          </button>\n        </form>\n      </div>\n\n      <VirtualList\n        // Extra props for update list on query changes.\n        lang={query.lang}\n\n        // react-tiny-virtual-list props.\n        width='100vw'\n        height={vh}\n        itemCount={itemCount}\n        renderItem={renderItem}\n        itemSize={itemSize}\n        overscanCount={5}\n        scrollToIndex={scrollToIndex == null ? null : scrollToIndex - 1}\n        ref={setListRef}\n      />\n\n      <footer>\n        <span>\n          <Link to=\"/load-more\">/load-more</Link> |&nbsp;\n          <Link to=\"/images\">/images</Link> |&nbsp;\n          <Link to={`/pokemons?lang=${nextLang}`} style={{ marginRight: 16 }}>/pokemons?lang={nextLang}</Link>\n        </span>\n        <span className=\"c-comment\">SEE: <a href='https://pokeapi.co/' target='_blank'>PokéAPI</a> for more Pokemons!</span>\n      </footer>\n    </>\n  )\n}\n\nexport default enhance(Pokemons)","// App.js\nimport React from 'react'\nimport { hot } from 'react-hot-loader'\n\nimport Promise from '../../utils/promise'\nimport fetch from '../../utils/fetch'\n\nimport withSize from '../../hocs/withSize'\n\nimport _ from 'lodash'\n\nimport {\n  compose,\n  lifecycle,\n  withState,\n  branch,\n  renderComponent, withPropsOnChange\n} from 'recompose'\n\nconst getPokemonDetail = (id) => new Promise(async (resolve) => {\n  const info = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}/`)\n\n  const speciesUrl = _.get(info, 'species.url', `https://pokeapi.co/api/v2/pokemon-species/${id}/`)\n\n  const spec = await fetch(speciesUrl)\n\n  const randomLang = _.get(_.sample(spec.names), 'language.name')\n\n  const getLocaled = (collection) => {\n    const grouped = _.groupBy(collection, 'language.name')\n    const picked = _.pick(grouped, ['ja', 'en', randomLang])\n    return _.transform(picked, (result, values, key) => {\n      result[key] = _.first(values)\n    }, {})\n  }\n\n  // Fetch attributes from response.\n  const names = getLocaled(spec.names)\n  const frontImage = _.get(info, 'sprites.front_default', null)\n  const backImage = _.get(info, 'sprites.back_default', null)\n  const flavorTexts = getLocaled(spec.flavor_text_entries)\n\n  resolve({\n    id,\n    frontImage,\n    backImage,\n    names,\n    flavorTexts,\n    randomLang\n  })\n})\n\nconst enhance = compose(\n  hot(module),\n  withSize,\n  withPropsOnChange(\n    (props, nextProps) => !_.isEqual(props.size, nextProps.size),\n    ({ size, onMeasure = _.noop, forceUpdate = _.noop }) => {\n      if (size.height === 0) return\n      onMeasure(size)\n      forceUpdate()\n    }\n  ),\n  withState('detail', 'setDetail', null),\n  lifecycle({\n    componentDidMount () {\n      const { pokemon, setDetail, observe } = this.props\n      // Keep promise reference for cancel.\n      this.promise = getPokemonDetail(pokemon.id).then(detail => setDetail(detail))\n    },\n\n    componentWillUnmount () {\n      if (this.promise) {\n        this.promise.cancel()\n      }\n    }\n  }),\n  branch(\n    ({ detail }) => !detail,\n    renderComponent(() => null),\n    _.identity\n  )\n)\n\nconst Pokemon = (props) => {\n  const {\n    detail = {},\n    pokemon,\n    setSizeRef\n  } = props\n\n  const {\n    id,\n    names = {},\n    flavorTexts = {},\n    frontImage,\n    backImage\n  } = detail\n\n  const lang = props.lang === 'random' ? detail.randomLang : props.lang\n  const nameEntry = names[lang] ? names[lang] : names['en']\n  const { name } = nameEntry\n\n  const flavorTextEntry = flavorTexts[lang] ? flavorTexts[lang] : flavorTexts['en']\n  const { flavor_text, version } = flavorTextEntry\n\n  return (\n    <div ref={setSizeRef} style={{color: 'white'}}>\n      <p style={{margin: 0}}>\n        <span style={{ background: 'white', padding: '0 8px', color: 'black' }}>\n          No.{id} name={name} lang={lang}\n        </span>\n      </p>\n\n      <a href={pokemon.url} target=\"_blank\">\n        {/* All images are 96x96 at PokeAPI */}\n        <img src={frontImage} style={{minHeight: 96}} alt=\"\" />\n        <img src={backImage} style={{minHeight: 96}} alt=\"\" />\n      </a>\n\n      <pre style={{\n        margin: '0 0 0 8px',\n        padding: '0 0 16px',\n        wordBreak: 'break-word',\n        whiteSpace: 'pre-wrap'\n      }}>\n        {flavor_text}\n        <b>({version.name})</b>\n      </pre>\n    </div>\n  )\n}\n\nexport default enhance(Pokemon)","import Promise from 'bluebird'\n\n// Set here for enable Promise.cancel()\nPromise.config({\n  // Enable warnings\n  // warnings: true,\n  // Enable long stack traces\n  // longStackTraces: true,\n  // Enable cancellation\n  cancellation: true\n  // Enable monitoring\n  // monitoring: true\n})\n\nexport default Promise\n","import React from 'react'\nimport { hot } from 'react-hot-loader'\n\nimport { Link } from 'react-router-dom'\nimport faker from 'faker'\n\nimport _ from 'lodash'\n\nimport VirtualList from 'react-tiny-virtual-list'\n\nimport {\n  compose,\n  withState,\n  withHandlers,\n  withPropsOnChange\n} from 'recompose'\n\nimport mapVh from '../hocs/mapVh'\nimport withSize from '../hocs/withSize'\nimport withRTVLHandlers from '../hocs/withRTVLHandlers'\n\nconst enhanceText = compose(\n  withSize,\n  withPropsOnChange(\n    (props, nextProps) => !_.isEqual(props.size, nextProps.size),\n    ({ size, onMeasure = _.noop, forceUpdate = _.noop }) => {\n      if (size.height === 0) return\n      onMeasure(size)\n      forceUpdate()\n    }\n  )\n)\n\nconst MeasurableText = enhanceText(({ text, setSizeRef, style }) => {\n  return (\n    <p\n      ref={setSizeRef}\n      style={{ ...style, margin: 0 }}\n    >\n      {text}\n    </p>\n  )\n})\n\nconst enhance = compose(\n  hot(module),\n  mapVh,\n  withState('rows', 'setRows', _.fill(new Array(100), 1)),\n  withHandlers({\n    onLoadMore: ({ rows, setRows }) => ({ isAtFirst }) => {\n      if (isAtFirst) return\n      // Simulate slow network.\n      _.delay(() => {\n        setRows([...rows, ..._.fill(new Array(100), 1)])\n      }, 300)\n    }\n  }),\n  withRTVLHandlers({\n    isReversed: true,\n    virtualRowsSize: 50,\n    estimatedSize: 200\n  }),\n  withPropsOnChange(\n    (props, nextProps) => {\n      return props.itemCount !== nextProps.itemCount\n    },\n    ({ rows, getActualIndex, cacheHeight, refresh, forceUpdate }) => ({\n      renderItem (arg) {\n        const { index, style } = arg\n\n        const actualIndex = getActualIndex(index)\n        const row = rows[actualIndex]\n\n        // Fix faker seed for getting same result.\n        faker.seed(index)\n        const text = faker.lorem.paragraphs()\n\n        return (\n          <div className={`row-${index}`} style={{ ...style }} key={index}>\n            <span style={{\n              background: 'white',\n              color: 'black',\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              height: 20\n            }}>{row ? `Row ${actualIndex}` : 'Loading...'}</span>\n            <MeasurableText\n              text={row ? text : ''}\n              style={{ paddingTop: 20 }}\n              onMeasure={({ height }) => {\n                cacheHeight(index, height)\n                refresh(index)\n              }}\n              forceUpdate={() => forceUpdate()}\n            />\n          </div>\n        )\n      }\n    })\n  )\n)\n\nconst LoadMore = enhance((props) => {\n  const {\n    vh,\n    setListRef,\n    overScanCount,\n    itemCount,\n    initialScrollToIndex,\n    onItemsRendered,\n    renderItem,\n    itemSize\n  } = props\n\n  return (\n    <div style={{ color: 'white' }}>\n      <VirtualList\n        ref={setListRef}\n        width=\"auto\"\n        height={vh || window.innerHeight}\n        itemCount={itemCount}\n        overscanCount={overScanCount}\n        renderItem={renderItem}\n        itemSize={itemSize}\n        scrollToIndex={initialScrollToIndex}\n        onItemsRendered={onItemsRendered}\n      />\n\n      <footer>\n        <span>\n          <Link to=\"/images\">/images</Link> |&nbsp;\n          <Link to=\"/pokemons\">/pokemons</Link>\n        </span>\n\n        <span className=\"c-comment\">Scroll up to load more(Slack-like behavior).</span>\n      </footer>\n    </div>\n  )\n})\n\nexport default LoadMore","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter, Switch, Route, Redirect } from 'react-router-dom'\n\nimport Images from './components/Images'\nimport Pokemons from './components/Pokemons'\nimport LoadMore from './components/LoadMore'\n\nconst app = (\n  <div>\n\n    { /*language=CSS*/ }\n    <style type=\"text/css\">{`\n      body {\n        background-color: #242424;\n        margin: 0;\n        font-family: menlo, \"andale mono\", \"courier new\", system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n      }\n\n      footer {\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        padding: 8px;\n        background-color: white;\n        color: #242424;\n        text-align: right;\n        display: flex;\n        justify-content: flex-start;\n        flex-wrap: wrap;\n      }\n\n      img {\n          max-width: 100vw;\n      }\n\n      .c-comment {\n        margin: 8px 0 0;\n      }\n\n      .c-search-form {\n        position: fixed;\n        top: 0;\n        right: 0;\n        z-index: 100;\n        background-color: white;\n        padding: 8px;\n      }\n\n      @media (min-width: 576px) {\n        footer {\n            padding: 8px 8px 32px;\n            justify-content: space-between;\n        }\n\n        img {\n          max-width: initial;\n        }\n\n        .c-credits {\n          margin: 0;\n        }\n      }\n    `}</style>\n\n    <HashRouter>\n      <Switch>\n        <Redirect exact from='/' to='/images' />\n        <Route exact path='/images' component={Images} />\n        <Route exact path='/pokemons' component={Pokemons} />\n        <Route exact path='/load-more' component={LoadMore} />\n      </Switch>\n    </HashRouter>\n  </div>\n)\n\nReactDOM.render(app, document.querySelector('#app'))"],"sourceRoot":""}
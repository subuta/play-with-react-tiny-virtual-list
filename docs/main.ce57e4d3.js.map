{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/fetch.js","webpack:///./src/hocs/mapVh.js","webpack:///./src/hocs/withSize.js","webpack:///./src/hocs/withRTVLHandlers.js","webpack:///./src/components/Images.js","webpack:///./src/components/Pokemons/index.js","webpack:///./src/components/Pokemons/Pokemon.js","webpack:///./src/utils/promise.js","webpack:///./src/components/LoadMore.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","cache","LRU","max","maxAge","__webpack_exports__","_ref","_asyncToGenerator","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","url","wrap","_context","prev","next","has","fetch","then","res","json","sent","set","abrupt","stop","this","_x","arguments","compose","withState","withProps","setVh","listen","listener","_","debounce","e","innerHeight","addEventListener","removeEventListener","lifecycle","componentDidMount","_componentDidMount","unlisten","props","componentWillUnmount","recompose__WEBPACK_IMPORTED_MODULE_0__","lodash__WEBPACK_IMPORTED_MODULE_1__","lodash__WEBPACK_IMPORTED_MODULE_1___default","resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_2__","height","width","withHandlers","_ref2","setSize","ref","unobserve","noop","ro","ResizeObserver","entries","contentRect","first","top","right","bottom","left","observe","setSizeRef","options","undefined","_options$isReversed","isReversed","_options$virtualRowsS","virtualRowsSize","_options$estimatedSiz","estimatedSize","withStateHandlers","overScanCount","initialScrollToIndex","rows","withPropsOnChange","nextProps","itemCount","listRef","cachedHeight","refresh","forceUpdate","getActualIndex","_ref3","index","setListRef","recomputeSizes","cacheHeight","forceUpdateList","getCachedHeight","_ref4","lastArg","startIndex","stopIndex","scrollDirection","compareScroll","arg","currentIndex","visibleCurrentIndex","initialProps","onLoadMore","leading","trailing","onItemsRendered","_compareScroll","IsAtFirstOfRows","IsAtLastOfRows","requestAnimationFrame","isAtFirst","isAtLast","itemSize","_ref5","hasLargeScreen","innerWidth","enhance","hot","mapVh","photos","map","photo","randomSize","random","setPhotos","renderItem","style","react__WEBPACK_IMPORTED_MODULE_1___default","createElement","className","_objectSpread","background","position","padding","author","href","post_url","target","src","concat","id","alt","vh","Fragment","react_tiny_virtual_list__WEBPACK_IMPORTED_MODULE_4__","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","to","scrollToIndex","draftScrollToIndex","setRows","setDraftScrollToIndex","setScrollToIndex","isNaN","Number","response","results","pokemon","match","withRTVLHandlers","isEqual","location","query","lang","qs","parse","search","split","isRowsChanged","isQueryChanged","delay","_Pokemon__WEBPACK_IMPORTED_MODULE_8__","onMeasure","nextLang","onSubmit","preventDefault","marginRight","type","onChange","marginLeft","onClick","overscanCount","getPokemonDetail","Promise","resolve","info","speciesUrl","spec","randomLang","getLocaled","names","frontImage","backImage","flavorTexts","sample","collection","grouped","groupBy","picked","pick","transform","values","flavor_text_entries","withSize","size","_ref2$onMeasure","_this$props","setDetail","promise","detail","cancel","branch","renderComponent","identity","_props$detail","_detail$names","_detail$flavorTexts","flavorTextEntry","flavor_text","version","color","margin","minHeight","wordBreak","whiteSpace","bluebird__WEBPACK_IMPORTED_MODULE_0__","bluebird__WEBPACK_IMPORTED_MODULE_0___default","config","cancellation","MeasurableText","_ref$onMeasure","enhanceText","text","react__WEBPACK_IMPORTED_MODULE_0___default","LoadMore","fill","Array","_toConsumableArray","actualIndex","row","faker","seed","lorem","paragraphs","paddingTop","_ref6","react_tiny_virtual_list__WEBPACK_IMPORTED_MODULE_5__","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_0__","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","react_router_dom__WEBPACK_IMPORTED_MODULE_5__","_components_Images__WEBPACK_IMPORTED_MODULE_6__","_components_Pokemons__WEBPACK_IMPORTED_MODULE_7__","_components_LoadMore__WEBPACK_IMPORTED_MODULE_8__","app","exact","from","path","component","Images","Pokemons","ReactDOM","render","document","querySelector"],"mappings":"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","file":"main.ce57e4d3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/play-with-react-tiny-virtual-list/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([42,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import LRU from 'lru-cache'\n\nconst cache = new LRU({\n  max: 500,\n  maxAge: 1000 * 60 * 60 // 1h\n})\n\nexport default async (url) => {\n  if (!cache.has(url)) {\n    const result = await window.fetch(url).then(res => res.json())\n    cache.set(url, result)\n  }\n  return cache.get(url)\n}\n","import {\n  compose,\n  lifecycle,\n  withState,\n  withProps,\n} from 'recompose'\nimport _ from 'lodash'\n\nexport default compose(\n  withState('vh', 'setVh', 0),\n  withProps(({ setVh }) => ({\n    listen: () => {\n      const listener = _.debounce((e) => setVh(window.innerHeight), 300)\n\n      window.addEventListener('resize', listener)\n\n      // Load once.\n      listener()\n\n      return () => window.removeEventListener('resize', listener)\n    }\n  })),\n  lifecycle({\n    async componentDidMount () {\n      this.unlisten = this.props.listen()\n    },\n\n    componentWillUnmount () {\n      this.unlisten && this.unlisten()\n    }\n  }),\n)","import {\n  compose,\n  lifecycle,\n  withHandlers,\n  withPropsOnChange,\n  withState,\n} from 'recompose'\nimport _ from 'lodash'\n\nimport ResizeObserver from 'resize-observer-polyfill'\n\nexport default compose(\n  withState('size', 'setSize', { height: 0, width: 0 }),\n  withHandlers(({ setSize }) => {\n    let ref = null\n    let unobserve = _.noop\n\n    let sizeCache = { height: 0, width: 0 }\n\n    const ro = new ResizeObserver((entries) => {\n      const {contentRect} = _.first(entries)\n      const { top, right, bottom, left, height, width } = contentRect\n      const paddingBottom = bottom - height\n      const paddingRight = right - width\n      const clientHeight = top + paddingBottom + height\n      const clientWidth = left + paddingRight + width\n\n      sizeCache = {\n        height: clientHeight,\n        width: clientWidth\n      }\n\n      setSize(sizeCache)\n    })\n\n    const observe = () => {\n      if (!ref) return\n      ro.observe(ref)\n      return () => {\n        ro.unobserve(ref)\n        ref = null\n      }\n    }\n\n    return {\n      observe,\n\n      setSizeRef: () => (_ref) => {\n        ref = _ref\n        unobserve = observe()\n      },\n\n      unobserve: () => () => {\n        unobserve()\n      }\n    }\n  }),\n  lifecycle({\n    componentWillUnmount () {\n      this.props.unobserve()\n    }\n  })\n)","import {\n  compose,\n  withHandlers,\n  withPropsOnChange,\n  withStateHandlers,\n  lifecycle\n} from 'recompose'\nimport _ from 'lodash'\n\nconst SCROLL_DIRECTION_UP = 'SCROLL_DIRECTION_UP'\nconst SCROLL_DIRECTION_NONE = 'SCROLL_DIRECTION_NONE'\nconst SCROLL_DIRECTION_DOWN = 'SCROLL_DIRECTION_DOWN'\n\nexport default (options = {}) => {\n  const {\n    isReversed = false,\n    virtualRowsSize = 0,\n    estimatedSize = 100\n  } = options\n\n  return compose(\n    withStateHandlers(({ rows }) => ({\n      overScanCount: 3,\n      initialScrollToIndex: rows.length + virtualRowsSize - 1\n    }), {}),\n    withPropsOnChange(\n      (props, nextProps) => props.rows.length !== nextProps.rows.length,\n      ({ rows }) => ({\n        itemCount: rows.length + virtualRowsSize\n      })\n    ),\n    withHandlers(() => {\n      let listRef = null\n      let cachedHeight = []\n      let refresh = _.noop\n      let forceUpdate = _.noop\n\n      return {\n        getActualIndex: ({ itemCount }) => (index) => {\n          return isReversed ? itemCount - index - 1 : index + 1\n        },\n\n        setListRef: () => (ref) => {\n          if (ref === null) return\n          listRef = ref\n          window.listRef = listRef\n\n          refresh = (index) => {\n            listRef.recomputeSizes(index)\n          }\n\n          forceUpdate = () => {\n            listRef.forceUpdate()\n          }\n        },\n\n        cacheHeight: () => (index, height) => {\n          cachedHeight[index] = height\n          refresh(index)\n        },\n\n        forceUpdateList: () => () => forceUpdate(),\n\n        getCachedHeight: () => () => cachedHeight\n      }\n    }),\n    withHandlers(({ overScanCount }) => {\n      let lastArg = {\n        startIndex: -1,\n        stopIndex: -1\n      }\n      let scrollDirection = SCROLL_DIRECTION_NONE\n\n      return {\n        compareScroll: () => (arg) => {\n          // Assign lastStartIndex at first render.\n          if (lastArg.startIndex === -1) lastArg.startIndex = arg.startIndex\n          // Ignore no-change.\n          if (lastArg.startIndex === arg.startIndex) return { scrollDirection: SCROLL_DIRECTION_NONE }\n\n          scrollDirection = lastArg.startIndex > arg.startIndex ? SCROLL_DIRECTION_UP : SCROLL_DIRECTION_DOWN\n\n          // Get in-visible (includes overScan) row index.\n          const currentIndex = scrollDirection === SCROLL_DIRECTION_UP ? arg.startIndex : arg.stopIndex\n          // Get visible row index.\n          const visibleCurrentIndex = scrollDirection === SCROLL_DIRECTION_UP ? (arg.startIndex + overScanCount) : (arg.stopIndex - overScanCount)\n\n          // Keep lastArg.\n          lastArg = arg\n\n          return {\n            scrollDirection,\n            currentIndex,\n            visibleCurrentIndex\n          }\n        }\n      }\n    }),\n    withHandlers((initialProps) => {\n      // Ignore fast scroll.\n      let onLoadMore = initialProps.onLoadMore || (() => {})\n      onLoadMore = _.debounce(onLoadMore, 100, { leading: true, trailing: false })\n\n      return {\n        onItemsRendered: (props) => (arg) => {\n          const {\n            rows,\n            getActualIndex,\n            compareScroll\n          } = props\n\n          // Swap args for reversed list.\n          const startIndex = isReversed ? getActualIndex(arg.stopIndex) : getActualIndex(arg.startIndex)\n          const stopIndex = isReversed ? getActualIndex(arg.startIndex) : getActualIndex(arg.stopIndex)\n\n          const { scrollDirection, currentIndex } = compareScroll({ startIndex, stopIndex })\n\n          // Ignore no-change.\n          if (scrollDirection === SCROLL_DIRECTION_NONE) return\n\n          const IsAtFirstOfRows = scrollDirection === SCROLL_DIRECTION_UP && startIndex === 0\n          const IsAtLastOfRows = scrollDirection === SCROLL_DIRECTION_DOWN && stopIndex >= rows.length - 1\n\n          if (IsAtFirstOfRows || IsAtLastOfRows) {\n            requestAnimationFrame(() => {\n              onLoadMore({\n                scrollDirection,\n                currentIndex,\n                isAtFirst: IsAtFirstOfRows,\n                isAtLast: IsAtLastOfRows\n              })\n            })\n          }\n        },\n\n        itemSize: ({ getCachedHeight }) => (index) => {\n          return getCachedHeight()[index] || estimatedSize\n        }\n      }\n    })\n  )\n}","// App.js\nimport React from 'react'\nimport { hot } from 'react-hot-loader'\n\nimport { Link } from 'react-router-dom'\nimport VirtualList from 'react-tiny-virtual-list'\n\nimport fetch from '../utils/fetch'\n\nimport _ from 'lodash'\n\nimport {\n  compose,\n  lifecycle,\n  withState,\n  withPropsOnChange\n} from 'recompose'\n\nimport mapVh from '../hocs/mapVh'\n\nconst hasLargeScreen = window.innerWidth >= 576\n\nconst enhance = compose(\n  hot(module),\n  mapVh,\n  withState('photos', 'setPhotos', []),\n  lifecycle({\n    async componentDidMount () {\n      let photos = await fetch('https://picsum.photos/list')\n\n      photos = _.map(photos, (photo) => {\n        if (hasLargeScreen) {\n          photo.randomSize = _.random(3, 8) * 100\n        } else {\n          photo.randomSize = _.random(1, 4) * 100\n        }\n        return photo\n      })\n\n      this.props.setPhotos(photos)\n    }\n  }),\n  withPropsOnChange(\n    (props, nextProps) => props.photos.length !== nextProps.photos.length,\n    ({ photos }) => {\n      return {\n        renderItem: ({ style, index }) => {\n          const photo = photos[index]\n          return (\n            <div className=\"Row\" style={{ ...style }} key={index}>\n              <span style={{ background: 'white', position: 'absolute', top: 0, left: 0, padding: '0 8px' }}>\n                Row #{index} By {photo.author}\n                <small>randomSize={photo.randomSize}</small>\n              </span>\n              <a href={photo.post_url} target=\"_blank\">\n                <img src={`https://picsum.photos/${photo.randomSize}?image=${photo.id}`} alt=\"\" />\n              </a>\n            </div>\n          )\n        }\n      }\n    }\n  )\n)\n\nconst Images = ({ photos, renderItem, vh }) => {\n  return (\n    <>\n      <VirtualList\n        width='100vw'\n        height={vh}\n        itemCount={photos.length}\n        renderItem={renderItem}\n        itemSize={(index) => photos[index].randomSize}\n      />\n\n      <footer>\n        <span>\n          <Link to=\"/pokemons\">/pokemons</Link> |&nbsp;\n          <Link to=\"/load-more\">/load-more</Link>\n        </span>\n\n        <span className=\"c-comment\">SEE: <a href=\"https://picsum.photos/\" target='_blank'>Lorem Picsum</a> for more images.</span>\n      </footer>\n    </>\n  )\n}\n\nexport default enhance(Images)","// App.js\nimport React from 'react'\nimport { hot } from 'react-hot-loader'\n\nimport { Link } from 'react-router-dom'\nimport VirtualList from 'react-tiny-virtual-list'\nimport qs from 'qs'\n\nimport fetch from '../../utils/fetch'\n\nimport _ from 'lodash'\n\nimport Pokemon from './Pokemon'\n\nimport {\n  compose,\n  lifecycle,\n  withPropsOnChange,\n  withStateHandlers\n} from 'recompose'\n\nimport mapVh from '../../hocs/mapVh'\nimport withRTVLHandlers from '../../hocs/withRTVLHandlers'\n\nconst POKE_URL_ID_REGEX = 'https://pokeapi.co/api/v2/pokemon/([0-9]+)/'\n\nconst enhance = compose(\n  hot(module),\n  mapVh,\n  withStateHandlers(\n    () => ({\n      rows: [],\n      scrollToIndex: null,\n      draftScrollToIndex: ''\n    }),\n    {\n      setRows: () => (rows) => ({ rows }),\n      setDraftScrollToIndex: () => (e) => ({ draftScrollToIndex: e.target.value }),\n      setScrollToIndex: () => (value) => {\n        if (value === '') return { scrollToIndex: null }\n        return {\n          scrollToIndex: _.isNaN(Number(value)) ? null : Number(value) // For array.\n        }\n      }\n    }\n  ),\n  lifecycle({\n    async componentDidMount () {\n      let response = await fetch('https://pokeapi.co/api/v2/pokemon/')\n\n      const rows = _.map(response.results, pokemon => {\n        pokemon.id = pokemon.url.match(POKE_URL_ID_REGEX)[1]\n        return pokemon\n      })\n\n      this.props.setRows(rows)\n    }\n  }),\n  withRTVLHandlers({\n    estimatedSize: 200\n  }),\n  withPropsOnChange(\n    (props, nextProps) => !_.isEqual(props.location, nextProps.location),\n    ({ location }) => {\n      const query = qs.parse(location.search.split('?')[1])\n      return {\n        query: {\n          lang: query.lang || 'en'\n        }\n      }\n    }\n  ),\n  withPropsOnChange(\n    (props, nextProps) => {\n      const isRowsChanged = props.rows.length !== nextProps.rows.length\n      const isQueryChanged = !_.isEqual(props.query, nextProps.query)\n      return isRowsChanged || isQueryChanged\n    },\n    ({ rows, query, cacheHeight, forceUpdateList }) => {\n      // Call forceUpdateList once at itemCount changed.\n      _.delay(() => forceUpdateList())\n      return {\n        renderItem: ({ style, index }) => {\n          const pokemon = rows[index]\n          return (\n            <div className=\"row\" style={{ ...style }} key={index}>\n              <Pokemon\n                pokemon={pokemon}\n                lang={query.lang}\n                onMeasure={({ height }) => cacheHeight(index, height)}\n              />\n            </div>\n          )\n        }\n      }\n    }\n  )\n)\n\n// Looks like PokeAPI does not provides `Pokemon Sun & Moon` data currently(2018/10/14) ;)\n// SEE: https://github.com/PokeAPI/pokeapi/issues/112\nconst Pokemons = (props) => {\n  const {\n    query,\n    vh,\n    rows,\n    draftScrollToIndex,\n    setDraftScrollToIndex,\n    setScrollToIndex,\n    scrollToIndex,\n    renderItem,\n    setListRef,\n    itemSize\n  } = props\n\n  // Toggle lang.\n  let nextLang = 'en'\n  if (query.lang === 'en') {\n    nextLang = 'ja'\n  } else if (query.lang === 'ja') {\n    nextLang = 'random'\n  } else if (query.lang === 'random') {\n    nextLang = 'en'\n  }\n\n  const itemCount = rows.length\n\n  return (\n    <>\n      <div className=\"c-search-form\">\n        <form\n          onSubmit={(e) => {\n            e.preventDefault()\n            setScrollToIndex(draftScrollToIndex)\n          }}\n        >\n          <label>\n            <span style={{ marginRight: 4 }}>No</span>\n\n            <input\n              type=\"number\"\n              onChange={setDraftScrollToIndex}\n              value={draftScrollToIndex}\n              style={{width: 40}}\n            />\n          </label>\n\n          <button\n            style={{ marginLeft: 8 }}\n            onClick={() => setScrollToIndex(draftScrollToIndex)}\n          >\n            Go\n          </button>\n        </form>\n      </div>\n\n      <VirtualList\n        // Extra props for update list on query changes.\n        lang={query.lang}\n\n        // react-tiny-virtual-list props.\n        width='100vw'\n        height={vh}\n        itemCount={itemCount}\n        renderItem={renderItem}\n        itemSize={itemSize}\n        overscanCount={5}\n        scrollToIndex={scrollToIndex == null ? null : scrollToIndex - 1}\n        ref={setListRef}\n      />\n\n      <footer>\n        <span>\n          <Link to=\"/load-more\">/load-more</Link> |&nbsp;\n          <Link to=\"/images\">/images</Link> |&nbsp;\n          <Link to={`/pokemons?lang=${nextLang}`} style={{ marginRight: 16 }}>/pokemons?lang={nextLang}</Link>\n        </span>\n        <span className=\"c-comment\">SEE: <a href='https://pokeapi.co/' target='_blank'>Pok√©API</a> for more Pokemons!</span>\n      </footer>\n    </>\n  )\n}\n\nexport default enhance(Pokemons)","// App.js\nimport React from 'react'\nimport { hot } from 'react-hot-loader'\n\nimport Promise from '../../utils/promise'\nimport fetch from '../../utils/fetch'\n\nimport withSize from '../../hocs/withSize'\n\nimport _ from 'lodash'\n\nimport {\n  compose,\n  lifecycle,\n  withState,\n  branch,\n  renderComponent, withPropsOnChange\n} from 'recompose'\n\nconst getPokemonDetail = (id) => new Promise(async (resolve) => {\n  const info = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}/`)\n\n  const speciesUrl = _.get(info, 'species.url', `https://pokeapi.co/api/v2/pokemon-species/${id}/`)\n\n  const spec = await fetch(speciesUrl)\n\n  const randomLang = _.get(_.sample(spec.names), 'language.name')\n\n  const getLocaled = (collection) => {\n    const grouped = _.groupBy(collection, 'language.name')\n    const picked = _.pick(grouped, ['ja', 'en', randomLang])\n    return _.transform(picked, (result, values, key) => {\n      result[key] = _.first(values)\n    }, {})\n  }\n\n  // Fetch attributes from response.\n  const names = getLocaled(spec.names)\n  const frontImage = _.get(info, 'sprites.front_default', null)\n  const backImage = _.get(info, 'sprites.back_default', null)\n  const flavorTexts = getLocaled(spec.flavor_text_entries)\n\n  resolve({\n    id,\n    frontImage,\n    backImage,\n    names,\n    flavorTexts,\n    randomLang\n  })\n})\n\nconst enhance = compose(\n  hot(module),\n  withSize,\n  withPropsOnChange(\n    (props, nextProps) => !_.isEqual(props.size, nextProps.size),\n    ({ size, onMeasure = _.noop }) => {\n      if (size.height === 0) return\n      onMeasure(size)\n    }\n  ),\n  withState('detail', 'setDetail', null),\n  lifecycle({\n    componentDidMount () {\n      const { pokemon, setDetail, observe } = this.props\n      // Keep promise reference for cancel.\n      this.promise = getPokemonDetail(pokemon.id).then(detail => setDetail(detail))\n    },\n\n    componentWillUnmount () {\n      if (this.promise) {\n        this.promise.cancel()\n      }\n    }\n  }),\n  branch(\n    ({ detail }) => !detail,\n    renderComponent(() => null),\n    _.identity\n  )\n)\n\nconst Pokemon = (props) => {\n  const {\n    detail = {},\n    pokemon,\n    setSizeRef\n  } = props\n\n  const {\n    id,\n    names = {},\n    flavorTexts = {},\n    frontImage,\n    backImage\n  } = detail\n\n  const lang = props.lang === 'random' ? detail.randomLang : props.lang\n  const nameEntry = names[lang] ? names[lang] : names['en']\n  const { name } = nameEntry\n\n  const flavorTextEntry = flavorTexts[lang] ? flavorTexts[lang] : flavorTexts['en']\n  const { flavor_text, version } = flavorTextEntry\n\n  return (\n    <div ref={setSizeRef} style={{color: 'white'}}>\n      <p style={{margin: 0}}>\n        <span style={{ background: 'white', padding: '0 8px', color: 'black' }}>\n          No.{id} name={name} lang={lang}\n        </span>\n      </p>\n\n      <a href={pokemon.url} target=\"_blank\">\n        {/* All images are 96x96 at PokeAPI */}\n        <img src={frontImage} style={{minHeight: 96}} alt=\"\" />\n        <img src={backImage} style={{minHeight: 96}} alt=\"\" />\n      </a>\n\n      <pre style={{\n        margin: '0 0 0 8px',\n        padding: '0 0 16px',\n        wordBreak: 'break-word',\n        whiteSpace: 'pre-wrap'\n      }}>\n        {flavor_text}\n        <b>({version.name})</b>\n      </pre>\n    </div>\n  )\n}\n\nexport default enhance(Pokemon)","import Promise from 'bluebird'\n\n// Set here for enable Promise.cancel()\nPromise.config({\n  // Enable warnings\n  // warnings: true,\n  // Enable long stack traces\n  // longStackTraces: true,\n  // Enable cancellation\n  cancellation: true\n  // Enable monitoring\n  // monitoring: true\n})\n\nexport default Promise\n","import React from 'react'\nimport { hot } from 'react-hot-loader'\n\nimport { Link } from 'react-router-dom'\nimport faker from 'faker'\n\nimport _ from 'lodash'\n\nimport VirtualList from 'react-tiny-virtual-list'\n\nimport {\n  compose,\n  withState,\n  withHandlers,\n  withPropsOnChange,\n  lifecycle\n} from 'recompose'\n\nimport mapVh from '../hocs/mapVh'\nimport withSize from '../hocs/withSize'\nimport withRTVLHandlers from '../hocs/withRTVLHandlers'\n\nconst enhanceText = compose(\n  withSize,\n  withPropsOnChange(\n    (props, nextProps) => !_.isEqual(props.size, nextProps.size),\n    ({ size, onMeasure = _.noop }) => {\n      if (size.height === 0) return\n      onMeasure(size)\n    }\n  )\n)\n\nconst MeasurableText = enhanceText(({ text, setSizeRef, style }) => {\n  return (\n    <p\n      ref={setSizeRef}\n      style={{ ...style, margin: 0 }}\n    >\n      {text}\n    </p>\n  )\n})\n\nconst enhance = compose(\n  hot(module),\n  mapVh,\n  withState('rows', 'setRows', _.fill(new Array(100), 1)),\n  withHandlers({\n    onLoadMore: ({ rows, setRows }) => ({ isAtFirst }) => {\n      if (isAtFirst) return\n      // Simulate slow network.\n      _.delay(() => {\n        setRows([...rows, ..._.fill(new Array(100), 1)])\n      }, 300)\n    }\n  }),\n  withRTVLHandlers({\n    isReversed: true,\n    virtualRowsSize: 50,\n    estimatedSize: 200\n  }),\n  withPropsOnChange(\n    (props, nextProps) => {\n      return props.itemCount !== nextProps.itemCount\n    },\n    ({ rows, getActualIndex, cacheHeight, forceUpdateList }) => {\n      // Call forceUpdateList once at itemCount changed.\n      _.delay(() => forceUpdateList())\n      return {\n        renderItem (arg) {\n          const { index, style } = arg\n\n          const actualIndex = getActualIndex(index)\n          const row = rows[actualIndex]\n\n          // Fix faker seed for getting same result.\n          faker.seed(index)\n          const text = faker.lorem.paragraphs()\n\n          return (\n            <div className={`row-${index}`} style={{ ...style }} key={index}>\n            <span style={{\n              background: 'white',\n              color: 'black',\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              height: 20\n            }}>{row ? `Row ${actualIndex}` : 'Loading...'}</span>\n              <MeasurableText\n                text={row ? text : ''}\n                style={{ paddingTop: 20 }}\n                onMeasure={({ height }) => cacheHeight(index, height)}\n              />\n            </div>\n          )\n        }\n      }\n    }\n  )\n)\n\nconst LoadMore = enhance((props) => {\n  const {\n    vh,\n    setListRef,\n    overScanCount,\n    itemCount,\n    initialScrollToIndex,\n    onItemsRendered,\n    renderItem,\n    itemSize\n  } = props\n\n  return (\n    <div style={{ color: 'white' }}>\n      <VirtualList\n        ref={setListRef}\n        width=\"auto\"\n        height={vh || window.innerHeight}\n        itemCount={itemCount}\n        overscanCount={overScanCount}\n        renderItem={renderItem}\n        itemSize={itemSize}\n        scrollToIndex={initialScrollToIndex}\n        onItemsRendered={onItemsRendered}\n      />\n\n      <footer>\n        <span>\n          <Link to=\"/images\">/images</Link> |&nbsp;\n          <Link to=\"/pokemons\">/pokemons</Link>\n        </span>\n\n        <span className=\"c-comment\">Scroll up to load more(Slack-like behavior).</span>\n      </footer>\n    </div>\n  )\n})\n\nexport default LoadMore","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter, Switch, Route, Redirect } from 'react-router-dom'\n\nimport Images from './components/Images'\nimport Pokemons from './components/Pokemons'\nimport LoadMore from './components/LoadMore'\n\nconst app = (\n  <div>\n\n    { /*language=CSS*/ }\n    <style type=\"text/css\">{`\n      body {\n        background-color: #242424;\n        margin: 0;\n        font-family: menlo, \"andale mono\", \"courier new\", system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n      }\n\n      footer {\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        padding: 8px;\n        background-color: white;\n        color: #242424;\n        text-align: right;\n        display: flex;\n        justify-content: flex-start;\n        flex-wrap: wrap;\n      }\n\n      img {\n          max-width: 100vw;\n      }\n\n      .c-comment {\n        margin: 8px 0 0;\n      }\n\n      .c-search-form {\n        position: fixed;\n        top: 0;\n        right: 0;\n        z-index: 100;\n        background-color: white;\n        padding: 8px;\n      }\n\n      @media (min-width: 576px) {\n        footer {\n            padding: 8px 8px 32px;\n            justify-content: space-between;\n        }\n\n        img {\n          max-width: initial;\n        }\n\n        .c-credits {\n          margin: 0;\n        }\n      }\n    `}</style>\n\n    <HashRouter>\n      <Switch>\n        <Redirect exact from='/' to='/images' />\n        <Route exact path='/images' component={Images} />\n        <Route exact path='/pokemons' component={Pokemons} />\n        <Route exact path='/load-more' component={LoadMore} />\n      </Switch>\n    </HashRouter>\n  </div>\n)\n\nReactDOM.render(app, document.querySelector('#app'))"],"sourceRoot":""}